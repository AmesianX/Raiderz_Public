<?xml version="1.0" encoding="UTF-8" ?>
<maiet>
	<COLT name="Cyndea for Dynamic Field" npcid="103080">
		<COMBAT mode="0">
			<DEFAULT comment="training mode (hp 90~100%)">
				<ACTION type="talent" param1="210306017" rate="10" duration="0" comment="left dodge" />
				<ACTION type="talent" param1="210306018" rate="10" duration="0" comment="right dodge" />
				<ACTION type="talent" param1="210306010" rate="40" comment="swing twice" />
				<ACTION type="talent" param1="210306011" rate="40" comment="strike ground" />
			</DEFAULT>

			<CHECK type="distance" param1="1500">
				<ACTION type="talent" param1="210306021" rate="100" comment="leap attack" />
			</CHECK>

			<CHECK type="hp" param1="40" param2="90" comment="intermediate mode (hp 40~90%)">
				<ACTION type="talent" param1="210306017" rate="6" duration="0" comment="left dodge" />
				<ACTION type="talent" param1="210306018" rate="6" duration="0" comment="right dodge" />
				<ACTION type="talent" param1="210306015" rate="6" duration="0" comment="back dodge" />
				<ACTION type="talent" param1="210306010" rate="20" comment="swing twice" />
				<ACTION type="talent" param1="210306011" rate="20" comment="strike ground" />
				<ACTION type="talent" param1="210306060" rate="14" comment="combo attack 1/2 (to mode 2)" />
				<ACTION type="talent" param1="210306013" rate="14" comment="forward leap strike" />
				<ACTION type="talent" param1="210306070" rate="14" duration="0" comment="rush attack (to mode 3)" />
			</CHECK>

			<CHECK type="hp" param1="0" param2="40" comment="berserk mode (hp 0~40%)">
				<ACTION type="talent" param1="210306017" rate="2" duration="0" comment="left dodge" />
				<ACTION type="talent" param1="210306018" rate="2" duration="0" comment="right dodge" />
				<ACTION type="talent" param1="210306015" rate="2" duration="0" comment="back dodge" />
				<ACTION type="talent" param1="210306010" rate="15" comment="swing twice" />
				<ACTION type="talent" param1="210306011" rate="15" comment="strike ground" />
				<ACTION type="talent" param1="210306060" rate="20" comment="combo attack 1/2 (to mode 2)" />
				<ACTION type="talent" param1="210306022" rate="22" comment="forward leap strike - fast action, unblockable" />
				<ACTION type="talent" param1="210306070" rate="22" duration="0" comment="rush attack (to mode 3)" />
			</CHECK>
		</COMBAT>
		<COMBAT mode="2" victory="210306062" comment="combo attack 2">
			<DEFAULT>
				<ACTION type="talent" param1="210306061" rate="100" duration="0" comment="combo attack 2/2 - finish (to mode 0)" />
			</DEFAULT>
		</COMBAT>
		<COMBAT mode="3" victory="210306074" comment="rush attack - A mode">
			<DEFAULT>
				<ACTION type="talent" param1="210306071" rate="100" duration="0" comment="rush attack - A (to mode 4)" />
			</DEFAULT>
			<CHECK type="distance" param2="600">
				<ACTION type="talent" param1="210306073" rate="100" duration="0" comment="if enemy is close, then finish rushing (to mode 0)" />
			</CHECK>
		</COMBAT>
		<COMBAT mode="4" victory="210306074" comment="rush attack - B mode">
			<DEFAULT>
				<ACTION type="talent" param1="210306072" rate="100" duration="0" comment="rush attack - B (to mode 3)" />
			</DEFAULT>
			<CHECK type="distance" param2="600">
				<ACTION type="talent" param1="210306073" rate="100" duration="0" comment="if enemy is close, then finish rushing (to mode 0)" />
			</CHECK>
		</COMBAT>
	</COLT>
	<SCRIPT><![CDATA[
function NPC_103080:Init( NPCID )
	NPC_103080.TalIdCancelTwoHits			= 210306062
	NPC_103080.TalIdCancelRush			= 210306074
end

function NPC_103080:OnCancelTwoHits( ThisActor, Enemy )
	ThisActor:UseTalentSelf( NPC_103080.TalIdCancelTwoHits )
end

function NPC_103080:OnCancelRush( ThisActor, Enemy )
	ThisActor:UseTalentSelf( NPC_103080.TalIdCancelRush )
end

function NPC_103080:OnFinishAndAggroNear( ThisActor, Enemy )
	local ThisNPC = AsNPC( ThisActor )
	ThisNPC:Aggro( "near", 0 )
end

function NPC_103080:AccDamage( ThisNPC, HitInfo )
	-- do nothing: no pain or bparts for dynamic field cyndea
end

function NPC_103080:OnHitCapsule_1_0(HitInfo)
	return NPC_103080:AccDamage( this, HitInfo )
end


	]]></SCRIPT>	
</maiet>